(function(e){e.frameCollection=[];e.keyframe={browserCode:function(){var e=navigator.userAgent;if(e.indexOf("Opera")!=-1){return"-o-"}else if(e.indexOf("MSIE")!=-1){return"-ms-"}else if(e.indexOf("WebKit")!=-1){return"-webkit-"}else if(navigator.product=="Gecko"){return"-moz-"}else{return""}},generate:function(){e("#keyframes-style").html("");var t=this.browserCode();for(var n in e.frameCollection){var r="@"+t+"keyframes "+n+"{";for(var i in e.frameCollection[n].data){if(i!="name"){r+=i+"{";var s=e.frameCollection[n].data;r+=s[i]+"}"}}r+="}\n";e("#keyframes-style").append(r)}e("#keyframes-style").append(" .boostKeyframe{transform:scale3d(1,1,1);}")}};e.fn.resetKeyframe=function(t){e(this).css(e.keyframe.browserCode()+"animation-play-state","running");var n=e.keyframe.browserCode()+"animation";e(this).css(n,"none");e(this).data("keyframe",false);clearInterval(e(this).data("keyframeTimer"));clearTimeout(e(this).data("keyframeTimer"));if(t){setTimeout(t,1)}};e.fn.pauseKeyframe=function(){e(this).css(e.keyframe.browserCode()+"animation-play-state","paused");clearInterval(e(this).data("keyframeTimer"));clearTimeout(e(this).data("keyframeTimer"))};e.fn.resumeKeyframe=function(){e(this).css(e.keyframe.browserCode()+"animation-play-state","running")};e.fn.addKeyframe=function(t){e.each(t,function(t,n){var r=n.name;n.name="";e.frameCollection[r]={data:n}});e.keyframe.generate()};e.fn.playKeyframe=function(t,n){if(typeof t=="string"){t=t.trim();frameOptSplit=t.split(" ");var r=frameOptSplit[0];var i=parseInt(frameOptSplit[1]);var s=parseInt(frameOptSplit[3]);var o=parseInt(frameOptSplit[4]);frameOptSplit[1]+="ms";frameOptSplit[3]+="ms";var u=frameOptSplit.join(" ")}else{var a={delay:0,repeat:1,direction:"normal",fillMode:"forwards"};var t=e.extend({},a,t);var r=t.name;var i=t.duration;var s=t.delay;var o=t.repeat;t.duration=t.duration+"ms";t.delay=t.delay+"ms";var u="";e.each(t,function(e,t){u+=t+" "});u=u.trim()}var f=e.keyframe.browserCode()+"animation";var l=this;if(o!="infinite"){if(n!=null){e(this).data("keyframeTimer",setTimeout(n,(i+s)*o))}setTimeout(function(){e(l).data("keyframe",false)},(i+s)*o)}else{if(n!=null){e(l).data("keyframeTimer",setTimeout(function(){n();e(l).data("keyframeTimer",setInterval(n,i))},i+s))}}e(this).css(e.keyframe.browserCode()+"animation-play-state","running");e(this).data("keyframe",r);e(this).css(f,u)};e("head").append('<style id="keyframes-style" type="text/css"></style>')})(jQuery)
